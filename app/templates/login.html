<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Professional Login Form - Blue Glow</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        'primary-dark': '#0f172a',
                        'card-bg': 'rgba(17, 24, 39, 0.8)',
                    },
                }
            }
        }
    </script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background: radial-gradient(circle at 75% 50%, rgba(20, 30, 80, 0.4), transparent 50%), 
                        radial-gradient(circle at 25% 90%, rgba(5, 15, 50, 0.3), transparent 70%),
                        #0a0514;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        .btn-primary:hover { box-shadow: 0 0 40px rgba(59, 130, 246, 0.6); }
        @keyframes fadein { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
        .flash-message { animation: fadein 0.3s ease-out; }
    </style>
</head>
<body>

<div class="w-full max-w-sm sm:max-w-md lg:max-w-lg mx-auto">
    <!-- Login Card -->
    <div id="login-card" class="backdrop-blur-sm bg-slate-900/80 p-8 rounded-2xl shadow-2xl shadow-indigo-900/50 border border-slate-700/50 transition-all duration-300">
        
        <h1 class="text-3xl font-extrabold text-white mt-4 mb-2">Welcome Back</h1>
        <p class="text-base text-slate-300 mb-6">Sign in to continue to your account.</p>

        <!-- Flash Messages Container -->
        <div id="flashMessagesContainer" class="mb-6 space-y-3">
            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                {% for category, message in messages %}
                  <div class="flash-message p-4 rounded-xl border {% if category=='success' %}bg-green-900 border-green-700 text-green-300{% elif category=='error' %}bg-red-900 border-red-700 text-red-300{% else %}bg-yellow-900 border-yellow-700 text-yellow-400{% endif %} flex items-start justify-between" role="alert">
                    <span class="font-medium">{{ message }}</span>
                  </div>
                {% endfor %}
              {% endif %}
            {% endwith %}
        </div>

        <form id="loginForm" action="{{ url_for('auth.login') }}" method="POST" class="space-y-6">
            <!-- Email Input -->
            <div>
                <label for="email" class="block text-sm font-medium text-slate-400 mb-1">Email Address</label>
                <input type="email" id="email" name="email" required placeholder="your.name@example.com"
                    class="w-full px-5 py-2.5 bg-slate-800/80 text-white rounded-xl border border-slate-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-200 placeholder-slate-500 shadow-inner shadow-black/20"
                >
            </div>

            <!-- Password Input -->
            <div>
                <label for="password" class="block text-sm font-medium text-slate-400 mb-1">Password</label>
                <input type="password" id="password" name="password" required placeholder="••••••••"
                    class="w-full px-5 py-2.5 bg-slate-800/80 text-white rounded-xl border border-slate-700 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition-all duration-200 placeholder-slate-500 shadow-inner shadow-black/20"
                >
            </div>

            <!-- Forgot Password -->
            <div class="flex justify-end pt-1">
                <a href="#" class="text-sm text-blue-400 hover:text-blue-300 font-medium transition-colors">Forgot Password?</a>
            </div>

            <!-- Submit Button -->
            <button type="submit"
                class="btn-primary w-full py-3 font-semibold text-white rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 shadow-xl shadow-blue-800/50 transition-all duration-300 hover:scale-[1.01] active:scale-[0.99]"
            >
                Log In
            </button>
        </form>

        <!-- Social Login -->
        <div class="mt-8 text-center">
            <div class="relative mb-6">
                <div class="absolute inset-0 flex items-center">
                    <div class="w-full border-t border-slate-700"></div>
                </div>
                <div class="relative flex justify-center text-xs uppercase">
                    <span class="bg-slate-900/80 px-2 text-slate-500">Or continue with</span>
                </div>
            </div>
            <button 
                class="w-full py-3 font-medium text-slate-300 rounded-xl bg-slate-800/70 border border-slate-700 hover:bg-slate-800 transition-colors shadow-lg shadow-black/30"
            >
                <svg class="w-5 h-5 inline-block mr-3" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M43.6 20.4H24V27.6H36.4C35.8 30.7 34.1 33.1 31.8 34.6L31.7 34.7L37.2 39C39.4 37.1 41.1 34.3 42.1 31.1C43.1 27.9 43.6 24.5 43.6 20.4Z" fill="#4285F4"/><path d="M24 44C29.6 44 34.5 42.1 38.3 39L32.8 34.7C31.5 35.8 29.8 36.6 28 37.1C26.2 37.6 24.3 37.9 22.4 37.9C17.5 37.9 13.1 34.7 11.5 29.8L11.4 29.8L5.7 34.1C7.8 38.2 11.6 41.6 16.5 43.3C21.4 45 27 45 32 43.6Z" fill="#34A853"/><path d="M11.4 29.8C11.1 28.7 10.9 27.6 10.9 26.5C10.9 25.4 11.1 24.3 11.4 23.2V23.2L5.7 18.9C5.3 20.3 5 21.8 5 23.3C5 24.8 5.3 26.3 5.7 27.7L11.4 29.8Z" fill="#FBBC04"/><path d="M22.4 10.1C24.3 10.1 26.1 10.4 27.8 11L33.3 6.7C30 3.7 25.8 2 21.4 2C16.5 2 11.7 4 7.8 7.3L13.5 11.6C15.1 12.8 17.5 13.6 19.8 14.1C22.1 14.6 24.4 14.7 26.8 14.5Z" fill="#EA4335"/><path d="M24 24H48V48H24V24Z" fill="none"/></svg>
                Sign in with Google
            </button>
        </div>

        <p class="mt-8 text-center text-sm text-slate-500">
            Don't have an account? 
            <a href="{{ url_for('auth.signup') }}" class="text-blue-400 hover:text-blue-300 font-semibold transition-colors">Sign Up</a>
        </p>

    </div>
</div>

<!-- Client-side validation (optional) -->
<script>
    const form = document.getElementById('loginForm');
    const emailInput = document.getElementById('email');
    const passwordInput = document.getElementById('password');

    form.addEventListener('submit', function(e) {
        let valid = true;
        if (!emailInput.value) { valid = false; alert('Please enter your email.'); }
        else if (!passwordInput.value
