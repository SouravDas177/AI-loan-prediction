{% extends "base.html" %}

{% block title %}General Loan Form{% endblock %}

{% block content %}
<style>
    /* Component-specific styles for the "shining" dark theme */
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    
    /* Ensure Inter is used and define the base text color for the form block */
    .loan-form-container {
        font-family: 'Inter', sans-serif;
        color: #e2e8f0; /* Light text for high contrast */
    }

    /* Base styling for form controls */
    .form-input, .form-select {
        width: 100%;
        padding: 0.75rem;
        margin-top: 0.25rem;
        margin-bottom: 1.5rem; /* Increased margin for better vertical separation */
        background-color: #1e293b; /* Slate-800 for inputs */
        border: 1px solid #334155; /* Subtle dark border */
        border-radius: 0.5rem;
        color: white;
        transition: all 0.3s ease-in-out;
    }
    .form-input::placeholder, .form-select option:disabled {
        color: #94a3b8; /* Slate-400 placeholder color */
    }

    /* Focus state with glowing blue accent */
    .form-input:focus, .form-select:focus {
        outline: none;
        border-color: #3b82f6; /* Blue-500 */
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.4), 0 0 10px rgba(59, 130, 246, 0.2); /* Subtle glow effect */
        background-color: #101827; /* Slightly darker on focus */
    }
    
    /* Styling for the submit button (more prominent glow) */
    .submit-button {
        transition: all 0.3s;
        box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
    }
    .submit-button:hover {
        box-shadow: 0 4px 20px rgba(59, 130, 246, 0.7);
        transform: scale(1.02);
    }
</style>

<!-- Main container to apply the full-page dark background and centering -->
<div class="loan-form-container flex justify-center items-center min-h-screen p-4" style="background-color: #060A18;">
    <div class="w-full max-w-2xl bg-[#101827] p-8 sm:p-12 rounded-2xl shadow-3xl shadow-blue-500/20 border border-blue-600/50">
        <header class="text-center mb-10">
            <!-- Icon/Picture for style (Data visualization SVG) -->
            <div class="flex justify-center mb-4">
                <svg class="w-12 h-12 text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
            </div>
            <h1 class="text-3xl sm:text-4xl font-extrabold text-white mb-2 tracking-tight">General Loan Application</h1>
            <p class="text-blue-300 text-lg">Please provide all necessary details for a rapid risk assessment.</p>
        </header>

        <form method="POST" action="/general_loan">
            <!-- SECTION 1: Personal Details -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold text-slate-100 mb-4 border-b border-blue-700/50 pb-2">1. Applicant Profile</h3>
                
                <label for="gender" class="block text-sm font-medium text-slate-300 mb-1">Gender</label>
                <select id="gender" name="gender" class="form-select" required>
                    <option value="" disabled selected>Select your gender</option>
                    <option value="Male">Male</option>
                    <option value="Female">Female</option>
                </select>

                <label for="married" class="block text-sm font-medium text-slate-300 mb-1">Marital Status</label>
                <select id="married" name="married" class="form-select" required>
                    <option value="" disabled selected>Select marital status</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>

                <label for="dependents" class="block text-sm font-medium text-slate-300 mb-1">Dependents (Count)</label>
                <input type="number" id="dependents" name="dependents" min="0" class="form-input" placeholder="e.g., 0 or 2" required>

                <label for="age" class="block text-sm font-medium text-slate-300 mb-1">Age</label>
                <input type="number" id="age" name="age" class="form-input" placeholder="e.g., 35" required>
            </div>

            <!-- SECTION 2: Education & Employment -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold text-slate-100 mb-4 border-b border-blue-700/50 pb-2">2. Background & Employment</h3>

                <label for="education" class="block text-sm font-medium text-slate-300 mb-1">Education Level</label>
                <select id="education" name="education" class="form-select" required>
                    <option value="" disabled selected>Select education level</option>
                    <option value="Graduate">Graduate</option>
                    <option value="Not Graduate">Not Graduate</option>
                </select>

                <label for="self_employed" class="block text-sm font-medium text-slate-300 mb-1">Self Employed Status</label>
                <select id="self_employed" name="self_employed" class="form-select" required>
                    <option value="" disabled selected>Are you self employed?</option>
                    <option value="Yes">Yes</option>
                    <option value="No">No</option>
                </select>
                
                <label for="income_type" class="block text-sm font-medium text-slate-300 mb-1">Income Type (e.g., Salary, Business, Rental)</label>
                <input type="text" id="income_type" name="income_type" class="form-input" placeholder="e.g., Salary" required>
            </div>

            <!-- SECTION 3: Financial & Loan Details -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold text-slate-100 mb-4 border-b border-blue-700/50 pb-2">3. Loan Requirements & History</h3>
                
                <label for="loan_amount" class="block text-sm font-medium text-slate-300 mb-1">Loan Amount ($)</label>
                <input type="number" id="loan_amount" name="loan_amount" class="form-input" placeholder="e.g., 50000" required>

                <label for="loan_amount_term" class="block text-sm font-medium text-slate-300 mb-1">Loan Amount Term (Months)</label>
                <input type="number" id="loan_amount_term" name="loan_amount_term" class="form-input" placeholder="e.g., 180" required>
                
                <label for="loan_purpose" class="block text-sm font-medium text-slate-300 mb-1">Loan Purpose (e.g., Medical, Education, Vehicle)</label>
                <input type="text" id="loan_purpose" name="loan_purpose" class="form-input" placeholder="e.g., Vehicle" required>

                <label for="property_area" class="block text-sm font-medium text-slate-300 mb-1">Property Area (Location)</label>
                <select id="property_area" name="property_area" class="form-select" required>
                    <option value="" disabled selected>Select property area</option>
                    <option value="Urban">Urban</option>
                    <option value="Semiurban">Semiurban</option>
                    <option value="Rural">Rural</option>
                </select>
            </div>

            <!-- SECTION 4: Credit & Liabilities -->
            <div class="mb-8">
                <h3 class="text-xl font-semibold text-slate-100 mb-4 border-b border-blue-700/50 pb-2">4. Financial Health</h3>

                <label for="family_income" class="block text-sm font-medium text-slate-300 mb-1">ApplicantIncome ($)</label>
                <input type="number" id="family_income" name="family_income" class="form-input" placeholder="Total monthly family income" required>

                   <label for="CoapplicantIncome" class="block text-sm font-medium text-slate-300 mb-1">CoapplicantIncome ($)</label>
                <input type="number" id="CoapplicantIncome" name="CoapplicantIncome" class="form-input" placeholder="Total monthly family income" required>

                <label for="credit_history" class="block text-sm font-medium text-slate-300 mb-1">Credit History (0 or 1)</label>
                <input type="number" id="credit_history" name="credit_history" min="0" max="1" class="form-input" placeholder="0 or 1" required>

                <label for="cibil_score" class="block text-sm font-medium text-slate-300 mb-1">CIBIL Score (or equivalent Credit Score)</label>
                <input type="number" id="cibil_score" name="cibil_score" class="form-input" placeholder="e.g., 750" required>
                
                <label for="existing_debts" class="block text-sm font-medium text-slate-300 mb-1">Existing Debts (Count)</label>
                <input type="number" id="existing_debts" name="existing_debts" class="form-input" placeholder="Number of current liabilities" required>
            </div>

            <!-- Submit Button -->
            <div class="pt-4">
                <button type="submit" class="submit-button w-full inline-flex justify-center items-center space-x-2 px-6 py-3 text-lg font-bold rounded-xl text-white bg-blue-600 hover:bg-blue-700">
                    <span>Analyze Loan Eligibility</span>
                    <!-- Rocket Icon -->
                    <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg>
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
